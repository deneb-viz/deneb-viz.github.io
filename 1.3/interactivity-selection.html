<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.3 docs-doc-page docs-doc-id-interactivity/selection" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Cross-Filtering (Selection) | Deneb</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://deneb-viz.github.io/1.3/interactivity-selection"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.3"><meta data-rh="true" name="docsearch:version" content="1.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.3"><meta data-rh="true" property="og:title" content="Cross-Filtering (Selection) | Deneb"><meta data-rh="true" name="description" content="It is possible to enable cross-filtering of other visuals when a mark containing a resolvable datum is clicked (or Ctrl-Clicked for multi-select)."><meta data-rh="true" property="og:description" content="It is possible to enable cross-filtering of other visuals when a mark containing a resolvable datum is clicked (or Ctrl-Clicked for multi-select)."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://deneb-viz.github.io/1.3/interactivity-selection"><link data-rh="true" rel="alternate" href="https://deneb-viz.github.io/1.3/interactivity-selection" hreflang="en"><link data-rh="true" rel="alternate" href="https://deneb-viz.github.io/1.3/interactivity-selection" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143608567-3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-143608567-3",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.56051159.css">
<script src="/assets/js/runtime~main.4f8d90d0.js" defer="defer"></script>
<script src="/assets/js/main.01e5d273.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/banner.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/banner_dark.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/1.3">1.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/interactivity-selection">1.7 ðŸš§</a></li><li><a class="dropdown__link" href="/interactivity-selection">1.6</a></li><li><a class="dropdown__link" href="/1.5/interactivity-selection">1.5</a></li><li><a class="dropdown__link" href="/1.4/interactivity-selection">1.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/1.3/interactivity-selection">1.3</a></li><li><a class="dropdown__link" href="/1.2/interactivity-selection">1.2</a></li><li><a class="dropdown__link" href="/1.1/interactivity-selection">1.1</a></li><li><a class="dropdown__link" href="/1.0/interactivity-selection">1.0</a></li></ul></div><a class="navbar__item navbar__link" href="/community/resources">Community &amp; Resources</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/support">Support</a><a class="navbar__item navbar__link" href="/privacy-policy">Privacy Policy</a><a href="https://github.com/sponsors/deneb-viz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/deneb-viz/deneb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/1.3">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/1.3/getting-started">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/simple-example">Simple Worked Example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/visual-editor">Visual Editor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/dataset">Dataset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/keyboard">Keyboard Shortcuts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/1.3/formatting">Deeper Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/formatting">Formatting Values</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/schemes">Theme Colors &amp; Schemes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/pattern-fills">Pattern Fills</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/templates">Templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/performance">Performance Considerations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/1.3/interactivity-overview">Interactivity Features</a><button aria-label="Collapse sidebar category &#x27;Interactivity Features&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/interactivity-tooltips">Tooltips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/interactivity-context-menu">Context Menu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/1.3/interactivity-selection">Cross-Filtering (Selection)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/1.3/interactivity-highlight">Cross-Highlighting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/1.3/changelog">Change Log</a><button aria-label="Expand sidebar category &#x27;Change Log&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://vega.github.io/vega/docs/" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true">Further Resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://vega.github.io/vega/docs/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Vega Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="http://vega.github.io/vega-lite/docs/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Vega-Lite Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Deneb<!-- --> <b>1.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/interactivity-selection">latest version</a></b> (<!-- -->1.6<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/1.3/interactivity-overview"><span itemprop="name">Interactivity Features</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cross-Filtering (Selection)</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cross-Filtering (Selection)</h1>
<p>It is possible to enable cross-filtering of other visuals when a mark containing a resolvable datum is clicked (or Ctrl-Clicked for multi-select).</p>
<p>However, cross-filtering is a bit of a special case vs. <a href="/1.3/interactivity-tooltips">tooltips</a> and the <a href="/1.3/interactivity-context-menu">context menu</a>. As such, this is <strong>disabled</strong> by default, so as not to create potential UX issues prior to ensuring your visual effects are applied based on selection state. We&#x27;ll explain on this page what you need to think about if you want to enable this for your visuals, and what to think about from an implementation perspective when creating your specification.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cross-filtering-strategy">Cross-Filtering Strategy<a href="#cross-filtering-strategy" class="hash-link" aria-label="Direct link to Cross-Filtering Strategy" title="Direct link to Cross-Filtering Strategy">â€‹</a></h2>
<p>Both <a href="https://vega.github.io/vega/docs/event-streams/" target="_blank" rel="noopener noreferrer">Vega</a> (with Signals and Events) and <a href="https://vega.github.io/vega-lite/docs/parameter.html" target="_blank" rel="noopener noreferrer">Vega-Lite</a> (with Parameters) both have their own ways of managing interactivity internally when it comes to clicking on marks. However we also have to think about <a href="https://docs.microsoft.com/en-us/power-bi/developer/visuals/selection-api?WT.mc_id=DP-MVP-5003712" target="_blank" rel="noopener noreferrer">how Power BI manages selection state between visuals</a> and apply this in a generic manner, so Deneb again bridges this particular gap as much as possible. Therefore, cross-filtering works as follows:</p>
<ul>
<li>
<p>You can configure whether Deneb should attempt to <a href="#data-point-resolution">resolve data points</a> when clicking on marks, through the <strong>Cross-Filtering (Selection) of Data Points</strong> property in the <em>Vega &gt; Power BI Interactivity</em> section of the <a href="/1.3/visual-editor#settings-tab">Settings pane in the Visual editor</a>.</p>
</li>
<li>
<p>This setting is <strong>disabled</strong> by default.</p>
</li>
<li>
<p>For each row in the visual <code>&quot;dataset&quot;</code>, Deneb will generate a <a href="#the-__selected__-field">special field for each row</a> called <code>&quot;__selected__&quot;</code>, and will update this based on click events, or eligible external events to your visual, such as restoring a bookmark with an active selection state.</p>
</li>
<li>
<p>If multiple data points are selected (i.e. by holding the Ctrl key), Deneb will add these to the current list of selected data points and update the <code>__selected__</code> value accordingly.</p>
</li>
<li>
<p>Clicking anything other than a mark within the visual canvas (or a mark that cannot be resolved to one or more data points) will clear the current selection from the visual, and signal to Power BI to do the same for other visuals on the page.</p>
</li>
<li>
<p>It is up to you as a creator to use this field to <a href="/1.3/interactivity-overview#visual-effects-and-behavior">manage the visual effects within your specification</a> for selected vs. unselected marks. A simple illustration of this is covered <a href="/1.3/simple-example#cross-filtering">in the worked example</a> and some further simple examples are <a href="#managing-selection-state-visually-through-encodings">covered further down the page</a>.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-point-resolution">Data Point Resolution<a href="#data-point-resolution" class="hash-link" aria-label="Direct link to Data Point Resolution" title="Direct link to Data Point Resolution">â€‹</a></h2>
<p>With the <strong>Cross-Filtering (Selection) of Data Points</strong> property enabled, Deneb will monitor marks for click events. If the mark represents an un-transformed row&#x27;s datum from your <code>&quot;dataset&quot;</code> (or has enough information for Deneb to resolve it), it will be added to the list of currently selected data points and delegated to Power BI for handling other visuals in a page, e.g.:</p>
<p><img decoding="async" loading="lazy" alt="selection-simple-single-point.png" src="/assets/images/selection-simple-single-point-5147edf044e9b4381ea7c87be5049e85.png" title="Enabling cross-filtering and clicking a resolvable data point will trigger selection in other visuals on the page." width="950" height="421" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>You Must Manage Visual Effects and Encodings</div><div class="admonitionContent_BuS1"><p>Note that the above is based on the visual produced <a href="/1.3/simple-example#adding-cross-filtering">in the worked example</a>. As such this has an encoding applied to add an effect to marks that are in the current list of selected data points and is to help illustrate the concept. You will need to <a href="#managing-selection-state-visually-through-encodings">manage such encodings yourself</a>. The card to the right of the visual is merely for illustrative purposes: it helps us to re-state the selected values via another measure and confirm selections are propagated.</p></div></div>
<p>Holding the Ctrl key and clicking additional marks that contain resolvable data points will add these to the current list and affect other visuals, e.g.:</p>
<p><img decoding="async" loading="lazy" alt="selection-simple-multiple-point.png" src="/assets/images/selection-simple-multiple-point-9fabdf40c672b8837875c14ee27040f0.png" title="Ctrl-clicking additional resolvable data points will add these to the list of selected data points and update other visuals accordingly." width="950" height="422" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="primitive-aggregate-resolution">Primitive Aggregate Resolution<a href="#primitive-aggregate-resolution" class="hash-link" aria-label="Direct link to Primitive Aggregate Resolution" title="Direct link to Primitive Aggregate Resolution">â€‹</a></h3>
<p>For marks or layers that contain simple aggregates, Deneb can attempt to resolve and collect the individual data points, based on the unique values of grouped fields. This can be useful but there are a couple of considerations here:</p>
<ul>
<li>Any columns and measures need to be aliased in this new data stream as the corresponding columns and measures they are derived from.</li>
<li>If you are applying filtering or additional transforms that remove the compent rows, this is not taken into account.</li>
<li>As the data is a new stream, the granularity (and therefore the row context) is different to the base <code>&quot;dataset&quot;</code>. This means that there is no <a href="#the-__selected__-field">corresponding <code>__selected__</code> field</a> to help manage selection state, but it is possible to be creative here and give the impression of selection at a higher level; there is an example of this below.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-point-limit">Data Point Limit<a href="#data-point-limit" class="hash-link" aria-label="Direct link to Data Point Limit" title="Direct link to Data Point Limit">â€‹</a></h2>
<p>A high number of active selections can give Power BI a lot of work to do in terms of managing state between all the visuals on a page and can potentially cause performance issues. Given the flexible nature of Vega/Vega-Lite and the types of visuals you can produce, there is a limit on the number of data points that can be supplied to Power BI. This can start to add up, particularly if you use a low level of granularity but are attempting to select a mark that <a href="#primitive-aggregate-resolution">aggregates many data points</a>.</p>
<p>A <strong>Data Point Limit</strong> property is exposed in the <strong>Settings</strong> pane when cross-filtering is enabled, e.g.:</p>
<p><img decoding="async" loading="lazy" alt="selection-data-limit-property.png" src="/assets/images/selection-data-limit-property-8764d3a292a9093832155d354cba5037.png" title="The Data Point Limit property allows you to specify a maximum number of data points that Power BI should delegate for cross-filtering purposes within the current report page from Deneb." width="560" height="311" class="img_ev3q"></p>
<p>As you can see from the above screenshot, this defaults at <strong>50</strong>, but can be set from anywhere between <strong>1</strong> and <strong>250</strong>.</p>
<p>When interacting with your visual, if you accumulate enough data points in the current selection list, you will see this message in the visual header:</p>
<p><img decoding="async" loading="lazy" alt="selection-data-limit-exceeded.png" src="data:image/png;base64,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" title="If a selection exceeds the maximum limit, Deneb will prompt with a warning and prohibit further selection (but keep the current selection active)." width="820" height="61" class="img_ev3q">.</p>
<p>In this situation, Deneb will keep the current selection active, but will not add any more rows to it.</p>
<p>This warning can then be dismissed by either:</p>
<ul>
<li>Clicking the close icon (continuing to preserve the current selection)</li>
<li>Clicking on anothe mark (initializing a new selection, if eligible)</li>
<li>Clicking elsewhere in the visual (clearing the selection)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-__selected__-field">The <code>__selected__</code> Field<a href="#the-__selected__-field" class="hash-link" aria-label="Direct link to the-__selected__-field" title="Direct link to the-__selected__-field">â€‹</a></h2>
<p>Deneb will maintain the value of this field for each row in your dataset as follows:</p>
<ul>
<li><strong><code>on</code></strong>: the visual has an active selection state and the row is <strong>included</strong> in the list of selected data points.</li>
<li><strong><code>off</code></strong>: the visual has an active selection state and the row is <strong>excluded</strong> from the list of selected data points.</li>
<li><strong><code>neutral</code></strong>: the visual has no current selection state and the data point should be displayed normally.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Why 3 States?</div><div class="admonitionContent_BuS1"><p>The reason we have three states rather than a simple <strong><code>on</code></strong>/<strong><code>off</code></strong>, or binary state, is to allow us the (optional) opportunity to style elements that are explicitly highlighted differently to those that are displayed regulary (<strong><code>neutral</code></strong>) and open up further possibilities for our readers.</p></div></div>
<p>Some further examples of leveraging this state management are <a href="#simple-examples">detailed further below</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="managing-selection-state-visually-through-encodings">Managing Selection State Visually through Encodings<a href="#managing-selection-state-visually-through-encodings" class="hash-link" aria-label="Direct link to Managing Selection State Visually through Encodings" title="Direct link to Managing Selection State Visually through Encodings">â€‹</a></h2>
<p>As mentioned higher up, if you want Cross-Filtering to work effectively for your readers, you will need to use the state of the <code>__selected__</code> field for each row and encode marks accordingly, so that your visuals communicate selected vs un-selected marks effectively. We&#x27;d recommend a similar approach to most other Power BI visuals in at least setting the opacity of effected marks accordingly, but the flexibility of the Vega languages gives you the ability to explore other possibilities.</p>
<p>The <a href="#simple-examples">Simple Worked Examples</a> section below shows how you may be able to get started with exploring this further. While these focus on Vega-Lite, both versions of the <em>Simple Bar Chart</em> template available from the <em>New Specification</em> dialog contain simple bindings for Cross-Filtering to help you get started.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations-and-considerations">Limitations and Considerations<a href="#limitations-and-considerations" class="hash-link" aria-label="Direct link to Limitations and Considerations" title="Direct link to Limitations and Considerations">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>This Sounds Hard...</div><div class="admonitionContent_BuS1"><p>Well, it&#x27;s not always straightforward! It is early days for this type of &quot;visual thinking&quot; within Power BI, and it is likely that the community will be able to uncover better design patterns than the ones outlined on this page. They will certainly help you get on your way.</p><p>If you have found an alternative approach, or have a great idea on how to help us improve this, then <a href="https://github.com/deneb-viz/deneb/issues" target="_blank" rel="noopener noreferrer">please let us know</a>! We would love to continue to evolve this functionality and make it more accessible if we can do so.</p></div></div>
<ul>
<li>
<p>Data resolution integration with Power BI is wholly dependent on the correct row context. <a href="#data-point-resolution">Refer above</a>, or to the <a href="/1.3/interactivity-overview">Overview</a> page for more information about how to to try and ensure that this is preserved.</p>
</li>
<li>
<p>It might sometimes be possible to simulate a selection effect when using aggregates, but this will require some lateral thought. <a href="#example-3-approach-for-styling-aggregate-marks">Example 3 below</a> shows one potential approach to how this could be solved.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="simple-worked-examples">Simple Worked Examples<a href="#simple-worked-examples" class="hash-link" aria-label="Direct link to Simple Worked Examples" title="Direct link to Simple Worked Examples">â€‹</a></h2>
<p>The following examples are for Vega-Lite but similar principles can be applied for Vega.</p>
<p>This report shows the three examples below how they would be rendered in Power BI, using a model based on the sample finanical data available in Power BI Desktop. In each case, the full tooltip data is exposed so that you can observe the state of the <code>__selected__</code> field. We&#x27;ve also added some additional marks to the examples to show this value explicitly as interaction events occur. We&#x27;ll provide basic example JSON for each underneath.</p>
<iframe width="100%" height="486" src="https://app.powerbi.com/view?r=eyJrIjoiMmI5OTRhMGMtODJiMi00MTIyLTgzZDgtYjU2N2M2NWM3ZDk4IiwidCI6IjUzYmJlMGQ3LTU0NzItNGQ0NS04NGY0LWJiNzJiYjFjMjI4OSJ9" frameborder="0" allowfullscreen=""></iframe>
<p>Â Â Â Â <em><a href="/assets/files/Deneb-Simple-Cross-Filtering-Examples-20b748abea10fa926bc2db03a293755f.pbix" target="_blank">Download this workbook</a></em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1-simple-encoding-of-opacity-with-conditions">Example 1: Simple Encoding of Opacity with Conditions<a href="#example-1-simple-encoding-of-opacity-with-conditions" class="hash-link" aria-label="Direct link to Example 1: Simple Encoding of Opacity with Conditions" title="Direct link to Example 1: Simple Encoding of Opacity with Conditions">â€‹</a></h4>
<p>As per the worked example and the in-built templates for the bar chart, we can encode our <code>opacity</code> based on the value of <code>__selected__</code> being set to <code>&quot;off&quot;</code>, e.g.:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dataset&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mark&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;tooltip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;encoding&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;y&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Country (Short)&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nominal&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;x&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$ Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;quantitative&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;opacity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;condition&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__selected__&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;equal&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;off&quot;</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-2-styling-explicitly-selected-marks-vs-standard-neutral">Example 2: Styling Explicitly Selected Marks vs. Standard (neutral)<a href="#example-2-styling-explicitly-selected-marks-vs-standard-neutral" class="hash-link" aria-label="Direct link to Example 2: Styling Explicitly Selected Marks vs. Standard (neutral)" title="Direct link to Example 2: Styling Explicitly Selected Marks vs. Standard (neutral)">â€‹</a></h4>
<p>We can extend the above example to explicitly style selected marks when <code>__selected__</code> is set to <code>on</code> rather than just having a binary state if we so wish. Here we have applied a <a href="/1.3/pattern-fills">pattern fill</a> when <code>__selected__</code> for a row is <code>neutral</code>, making it more emphasized, e.g.:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dataset&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mark&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;tooltip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;encoding&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;y&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;City&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nominal&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;x&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mean Temperature&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;quantitative&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;opacity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;condition&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__selected__&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;equal&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;off&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;fill&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;condition&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__selected__&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;equal&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;on&quot;</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;expr&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pbiPatternSVG(&#x27;diagonal-stripe-6&#x27;, &#x27;#605E5C&#x27;, &#x27;#ffffff&#x27;)&quot;</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line theme-code-block-highlighted-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-3-approach-for-styling-aggregate-marks">Example 3: Approach for Styling Aggregate Marks<a href="#example-3-approach-for-styling-aggregate-marks" class="hash-link" aria-label="Direct link to Example 3: Approach for Styling Aggregate Marks" title="Direct link to Example 3: Approach for Styling Aggregate Marks">â€‹</a></h4>
<p>This scenario is much more complicated, as many transforms tend to create separate data streams; this will often cause us to the lose the row context information. This example uses aggregates internally to group rows. The top 3 have the same grain but the row identifies are not preserved in the output data stream. The <em>&#x27;All Others&#x27;</em> group contains three underlying data points but these are aggregated down to a single row and our lineage is not available.</p>
<p>As mentioned above, Deneb will attempt a simple reconciliation against the original <code>&quot;dataset&quot;</code>, much like it does for tooltips, but this is currently very basic. However we can use approaches, such as <a href="https://vega.github.io/vega-lite/docs/layer.html" target="_blank" rel="noopener noreferrer">layers</a> to give the impression of selection effects. This example is detailed more in the embedded report page above, but the high-level strategy is as follows:</p>
<ol>
<li>At the top level, <a href="https://vega.github.io/vega-lite/docs/calculate.html" target="_blank" rel="noopener noreferrer"><code>calculate</code> a column</a> that conditionally sums our measure value if a row&#x27;s <code>__selected__</code> value is not <code>off</code>. Otherwise, treat the value as <code>0</code>.</li>
<li>Add a layer that calculates two additional marks:<!-- -->
<ul>
<li>A <code>bar</code> with reduced opacity that is the total sum of the primary measure.</li>
<li>A fully opaque <code>bar</code> based on the <code>sum</code> of the calculated value in step 1. As this is drawn after the dimmed bar above, it will be zero-width if the value is <code>0</code>; otherwise it will have the same width as our primary measure and sit over the top of the underlying mark.</li>
</ul>
</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dataset&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;transform&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;calculate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;datum.__selected__ === &#x27;off&#x27; ? 0 : datum[&#x27;$ Sales&#x27;]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;as&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Sales_Selected&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;layer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Dimmed Bar; width = sum of Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;mark&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;opacity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;tooltip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;encoding&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;x&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;aggregate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sum&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$ Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;tooltip&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Fully Opaque Bar; width = Selected_Sales&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;mark&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;encoding&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;x&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;aggregate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sum&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Sales_Selected&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;encoding&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;y&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Product Group&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nominal&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;sort&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;field&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Product Group Sort&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/deneb-viz/deneb-viz.github.io/edit/source/versioned_docs/version-1.3/interactivity/selection.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/1.3/interactivity-context-menu"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Context Menu</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/1.3/interactivity-highlight"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cross-Highlighting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cross-filtering-strategy" class="table-of-contents__link toc-highlight">Cross-Filtering Strategy</a></li><li><a href="#data-point-resolution" class="table-of-contents__link toc-highlight">Data Point Resolution</a><ul><li><a href="#primitive-aggregate-resolution" class="table-of-contents__link toc-highlight">Primitive Aggregate Resolution</a></li></ul></li><li><a href="#data-point-limit" class="table-of-contents__link toc-highlight">Data Point Limit</a></li><li><a href="#the-__selected__-field" class="table-of-contents__link toc-highlight">The <code>__selected__</code> Field</a></li><li><a href="#managing-selection-state-visually-through-encodings" class="table-of-contents__link toc-highlight">Managing Selection State Visually through Encodings</a></li><li><a href="#limitations-and-considerations" class="table-of-contents__link toc-highlight">Limitations and Considerations</a></li><li><a href="#simple-worked-examples" class="table-of-contents__link toc-highlight">Simple Worked Examples</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
</body>
</html>