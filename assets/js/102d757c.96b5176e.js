"use strict";(self.webpackChunkdeneb_doc=self.webpackChunkdeneb_doc||[]).push([[1224],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var a=t(96540);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}},62292:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/recalculate-during-resize-cb1bbd9ca067830e787d9edd4ffb24af.gif"},82340:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"deeper-concepts/performance-considerations","title":"Performance Considerations","description":"Things to consider when working with large datasets or a large quantity of marks","source":"@site/versioned_docs/version-1.2/deeper-concepts/performance-considerations.md","sourceDirName":"deeper-concepts","slug":"/performance","permalink":"/docs/1.2/performance","draft":false,"unlisted":false,"editUrl":"https://github.com/deneb-viz/deneb-viz.github.io/edit/source/versioned_docs/version-1.2/deeper-concepts/performance-considerations.md","tags":[],"version":"1.2","frontMatter":{"id":"performance-considerations","description":"Things to consider when working with large datasets or a large quantity of marks","slug":"/performance","title":"Performance Considerations"},"sidebar":"mainSidebar","previous":{"title":"Templates","permalink":"/docs/1.2/templates"},"next":{"title":"Interactivity Features","permalink":"/docs/1.2/interactivity-overview"}}');var i=t(74848),s=t(28453);const r={id:"performance-considerations",description:"Things to consider when working with large datasets or a large quantity of marks",slug:"/performance",title:"Performance Considerations"},o="Performance Considerations",l={},c=[{value:"It&#39;s Early Days for Deneb",id:"its-early-days-for-deneb",level:2},{value:"Selection of Renderer",id:"selection-of-renderer",level:2},{value:"Applying Changes as You Type vs. Manually",id:"applying-changes-as-you-type-vs-manually",level:2},{value:"Include only Necessary Columns and Measures",id:"include-only-necessary-columns-and-measures",level:2},{value:"The Performance Tuning Property Menu",id:"the-performance-tuning-property-menu",level:2},{value:"Recalculate During Resize",id:"recalculate-during-resize",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"performance-considerations",children:"Performance Considerations"})}),"\n",(0,i.jsx)(n.h2,{id:"its-early-days-for-deneb",children:"It's Early Days for Deneb"}),"\n",(0,i.jsx)(n.p,{children:"We're in the very first stages of getting Deneb off the ground and most of what has been done so far has been around solving technical challenges to get the functionality working within a custom visual."}),"\n",(0,i.jsx)(n.p,{children:"For the majority of cases, Deneb should perform quite well, but if you're building a behemoth visual with lots of data, then you may need to think about the resulting output and the demand this can potentially create on a client machine - either while you're building a visual, or when your end users are consuming it."}),"\n",(0,i.jsx)(n.p,{children:"Please bear in mind that while care has been taken so far to try and make things work nicely, we will apply concerted effort to work on performance of the interface as we iterate."}),"\n",(0,i.jsx)(n.p,{children:"The following page has some recommendations for keeping performance optimal."}),"\n",(0,i.jsx)(n.h2,{id:"selection-of-renderer",children:"Selection of Renderer"}),"\n",(0,i.jsxs)(n.p,{children:["You can specify the renderer to use ",(0,i.jsx)(n.a,{href:"visual-editor#settings-tab",children:"in the Settings panel of the Visual Editor"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"SVG"})," is the default , which will render your specification using vector graphics. You also have the option to select ",(0,i.jsx)(n.strong,{children:"Canvas"}),", which will use pixel graphics."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'SVG is typically used for the lion\'s share of simple data visualizations and tyically produces "clearer" output that scales well at a variety of sizes.'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"However much like adding multiple visuals to a report page in Power BI can have an impact on performance, using SVG with a lot of data can have similar detrimental effects on performance."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"It's recommended that you try and stick with Canvas, particularly if you're prototyping a design and aren't sure on how many elements or data points you're potentially working with."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If you want to use SVG and you're working with a lot of data, consider if you can use elements that consolidate many data points into a single item on-screen, such as a ",(0,i.jsx)(n.code,{children:"line"})," rather than a ",(0,i.jsx)(n.code,{children:"point"}),", as this helps reduce the number of moving parts."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For more details on Canvas vs. SVG, ",(0,i.jsx)(n.a,{href:"https://css-tricks.com/when-to-use-svg-vs-when-to-use-canvas",children:"there's a great article here at CSS-Tricks"})," that consolidates a lot of useful info and summarizes a number of pros and cons."]}),"\n",(0,i.jsx)(n.h2,{id:"applying-changes-as-you-type-vs-manually",children:"Applying Changes as You Type vs. Manually"}),"\n",(0,i.jsxs)(n.p,{children:["The Visual Editor has the ability to ",(0,i.jsx)(n.a,{href:"visual-editor#toggle-auto-apply-ctrl--shift--enter",children:"apply changes to your output as you type them"}),". Whilst this is pretty cool, it can really slow things down if you're making many changes to a particularly ambitious specification in a short space of time, as each change requires Vega or Vega-Lite to re-parse and render the output."]}),"\n",(0,i.jsxs)(n.p,{children:["We already use some techinques to minimise unnecessary chatter if this option is enabled, such as ",(0,i.jsx)(n.a,{href:"https://css-tricks.com/debouncing-throttling-explained-examples/",children:"debouncing text input"}),", but it's still recommended that you apply your changes manually when ready, if editing a complex or data-intensive specification."]}),"\n",(0,i.jsx)(n.h2,{id:"include-only-necessary-columns-and-measures",children:"Include only Necessary Columns and Measures"}),"\n",(0,i.jsx)(n.p,{children:"Any data that you add to the visual will have performance implications, specifically:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The DAX query required by Power BI to generate the dataset for Deneb."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The amount of resources needed by Deneb to process the dataset and for Vega or Vega-Lite to render the resulting output as per your specification."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Creating a row context with lower granularity than you actually need, which can make producing the desired output more challenging."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Therefore, only add the columns and measures (and filter context) that your visual needs to communicate its message."}),"\n",(0,i.jsx)(n.h2,{id:"the-performance-tuning-property-menu",children:"The Performance Tuning Property Menu"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Performance Tuning"})," menu in the Power BI format pane is used to expose additional properties that you can use to alter performance of your specification. Where possible, these properties are set to what makes the most sense for optimal performance."]}),"\n",(0,i.jsx)(n.h3,{id:"recalculate-during-resize",children:"Recalculate During Resize"}),"\n",(0,i.jsx)(n.admonition,{title:"OFF By Default",type:"info"}),"\n",(0,i.jsx)(n.p,{children:"Due to the dynamic nature of Power BI visual containers, any change to the sizing can trigger an update to a visual's logic and this can cause your visual specification to get re-calculated during the process. This may not be noticeable for visuals that use a small amount of marks, but for those that are more complex, this might create more overhead than you need for something you don't do frequently."}),"\n",(0,i.jsxs)(n.p,{children:["If enabled, the ",(0,i.jsx)(n.strong,{children:"Recalculate during resize"})," property will continue to calculate any changes to the specification while a visual is in the process of being resized. If disabled, Deneb will delay any further updates until you have completed the resize operation by releasing the mouse button, e.g.:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"recalculate-during-resize.gif.",src:t(62292).A+"",title:"Our raincloud plot example contains many data points and calculations, which can be computationally expensive if resizing the visual container. By turning off the &#39;Recalculate during resize&#39; property, you can delay any calculations until you have finished resizing your visual.",width:"683",height:"456"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);