<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-1.0 docs-doc-page docs-doc-id-interactivity/overview" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Interactivity Features - An Overview | Deneb</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://deneb-viz.github.io/docs/1.0/interactivity-overview><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=1.0><meta data-rh=true name=docusaurus_tag content=docs-default-1.0><meta data-rh=true name=docsearch:version content=1.0><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-1.0><meta data-rh=true property=og:title content="Interactivity Features - An Overview | Deneb"><meta data-rh=true name=description content="Power BI provides the ability to create visuals using R and Python. Whilst these extend your options significantly, these are typically rendered as a static image and mean that it's currently not possible for you to interact back from these visuals to the rest of the report."><meta data-rh=true property=og:description content="Power BI provides the ability to create visuals using R and Python. Whilst these extend your options significantly, these are typically rendered as a static image and mean that it's currently not possible for you to interact back from these visuals to the rest of the report."><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://deneb-viz.github.io/docs/1.0/interactivity-overview><link data-rh=true rel=alternate href=https://deneb-viz.github.io/docs/1.0/interactivity-overview hreflang=en><link data-rh=true rel=alternate href=https://deneb-viz.github.io/docs/1.0/interactivity-overview hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://deneb-viz.github.io/docs/1.0/interactivity-overview","name":"Interactivity Features","position":1}]}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Deneb RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Deneb Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-143608567-3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-143608567-3",{anonymize_ip:!0})</script><link rel=stylesheet href=/assets/css/styles.70d4f367.css><script src=/assets/js/runtime~main.eaa8b019.js defer></script><script src=/assets/js/main.6eb9d559.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/banner.png alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/banner_dark.png alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs>Docs</a><a class="navbar__item navbar__link" href=/blog>Blog</a><a class="navbar__item navbar__link" href=/community/resources>Community & Resources</a><a class="navbar__item navbar__link" href=/support>Support</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/docs/1.0/interactivity-overview>1.0</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/next/interactivity-overview>Canary ðŸš§</a><li><a class=dropdown__link href=/docs/interactivity-overview>1.8</a><li><a class=dropdown__link href=/docs/1.7/interactivity-overview>1.7</a><li><a class=dropdown__link href=/docs/1.6/interactivity-overview>1.6</a><li><a class=dropdown__link href=/docs/1.5/interactivity-overview>1.5</a><li><a class=dropdown__link href=/docs/1.4/interactivity-overview>1.4</a><li><a class=dropdown__link href=/docs/1.3/interactivity-overview>1.3</a><li><a class=dropdown__link href=/docs/1.2/interactivity-overview>1.2</a><li><a class=dropdown__link href=/docs/1.1/interactivity-overview>1.1</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/1.0/interactivity-overview>1.0</a></ul></div><a href=https://github.com/sponsors/deneb-viz target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Sponsor<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><a class="navbar__item navbar__link" href=/privacy-policy>Privacy Policy</a><a href=https://github.com/deneb-viz/deneb target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/1.0>Introduction</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/1.0/getting-started>Getting Started</a><button aria-label="Collapse sidebar category 'Getting Started'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/simple-example>Simple Worked Example</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/dataset>Dataset</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/visual-editor>Visual Editor</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/1.0/formatting>Deeper Concepts</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/formatting>Formatting Values</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/pattern-fills>Pattern Fills</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/templates>Templates</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/performance>Performance Considerations</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current=page href=/docs/1.0/interactivity-overview>Interactivity Features</a><button aria-label="Collapse sidebar category 'Interactivity Features'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/interactivity-tooltips>Tooltips</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/interactivity-context-menu>Context Menu</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/1.0/interactivity-selection>Cross-Filtering (Selection)</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/1.0/changelog>Change Log</a><button aria-label="Expand sidebar category 'Change Log'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a href=https://vega.github.io/vega/docs/ target=_blank rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true>Further Resources</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=https://vega.github.io/vega/docs/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>Vega Documentation<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href=http://vega.github.io/vega-lite/docs/ target=_blank rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex=0>Vega-Lite Documentation<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is documentation for <!-- -->Deneb<!-- --> <b>1.0</b>, which is no longer actively maintained.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/interactivity-overview>latest version</a></b> (<!-- -->1.8<!-- -->).</div></div><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Interactivity Features</span></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Interactivity Features - An Overview</h1></header>
<p>Power BI provides the ability to create visuals using <a href="https://docs.microsoft.com/en-us/power-bi/create-reports/desktop-r-visuals?WT.mc_id=DP-MVP-5003712" target=_blank rel="noopener noreferrer">R</a> and <a href="https://docs.microsoft.com/en-us/power-bi/connect-data/desktop-python-visuals?WT.mc_id=DP-MVP-5003712" target=_blank rel="noopener noreferrer">Python</a>. Whilst these extend your options significantly, these are typically rendered as a static image and mean that it's currently not possible for you to interact back from these visuals to the rest of the report.</p>
<p>On occasion, these visuals may also require some additional dependencies if you want to share with a wider pool of end-users, or a library may not be available in the Power BI Service when it comes to deployment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=how-deneb-can-be-different-from-r--python-options>How Deneb Can Be Different from R & Python Options<a href=#how-deneb-can-be-different-from-r--python-options class=hash-link aria-label="Direct link to How Deneb Can Be Different from R & Python Options" title="Direct link to How Deneb Can Be Different from R & Python Options">â€‹</a></h2>
<p>In addition to the JSON-based declarative syntax, Deneb is packaged with the Vega and Vega-Lite libraries. Because they are built for the web, anything you produce should ideally be portable within the Power BI ecosystem, irrespective of which device you're using.</p>
<p>Both <a href=https://vega.github.io/vega/docs/event-streams/ target=_blank rel="noopener noreferrer">Vega</a> and <a href=https://vega.github.io/vega-lite/docs/selection.html target=_blank rel="noopener noreferrer">Vega-Lite</a> have their own approaches to interactivity and it's only logical to start thinking about how we can make use of this to make the visual "fit in" with the functionality on offer in other Power BI visuals...</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=managing-your-expectations>Managing your Expectations<a href=#managing-your-expectations class=hash-link aria-label="Direct link to Managing your Expectations" title="Direct link to Managing your Expectations">â€‹</a></h2>
<p>The interactivity part is one of the harder elements of developing your own custom visual and as such, it's going to be challenging to make this work in a visual like Deneb in a generic way, particularly as the Vega tooling provides a lot of creative freedom.</p>
<p>We fundamentally have three challenges when it comes to building visuals that are interactive within Power BI:</p>
<ol>
<li>
<p>Ensuring that Deneb visuals can interact with the main Power BI window (which handles interactivity events on a visual's behalf).</p>
</li>
<li>
<p>Reconciling data and row context to other visuals or the data model when events happen in our visual.</p>
</li>
<li>
<p>Prescribing how the our visual should behave and respond <em>visually</em> when our end-users interact with it.</p>
</li>
</ol>
<p>As such, we have some considerations to make when trying to deliver functionality are interactivity so that you can produce visuals that look and feel at home in Power BI, and your end-users get a consistent experience with your visual vs. others.</p>
<p>The below is going to attempt to summarize some of the considerations we need to think about and this is a challenge to do concisely. For a deeper understanding, you're welcome to dive into the <a href="https://docs.microsoft.com/en-us/power-bi/developer/visuals?WT.mc_id=DP-MVP-5003712" target=_blank rel="noopener noreferrer">developer documentation for visuals</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=reconciliation-of-data-andor-row-context>Reconciliation of Data and/or Row Context<a href=#reconciliation-of-data-andor-row-context class=hash-link aria-label="Direct link to Reconciliation of Data and/or Row Context" title="Direct link to Reconciliation of Data and/or Row Context">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=getting-data-from-the-model>Getting Data from the Model<a href=#getting-data-from-the-model class=hash-link aria-label="Direct link to Getting Data from the Model" title="Direct link to Getting Data from the Model">â€‹</a></h3>
<ul>
<li>
<p>Visuals in Power BI can't read from the model of their own volition - they are effectively ring-fenced away from the main interface for a lot of (sensible) reasons.</p>
</li>
<li>
<p>When you add columns and measures to the data roles, this is part of Power BI's interface, rather than the visual's.</p>
</li>
<li>
<p>Power BI looks at all of these, plus the current filter context and runs a DAX query on the visual's behalf.</p>
</li>
</ul>
<p>To illustrate, we can use the Financial sample dataset that comes with Power BI Desktop to add the <code>Country</code> column and specify a sum of <code>Sales</code> to Deneb's <em>Values</em> data role:</p>
<p><img decoding=async loading=lazy alt=simple-column-and-measure-roles.png src="data:image/png;base64,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" title="Adding a column and an implicit measure to the data roles." width=190 height=168 class=img_ev3q></p>
<p>After doing this, Power BI will generate the following query against the data model (which can be verified using the <a href="https://docs.microsoft.com/en-us/power-bi/create-reports/desktop-performance-analyzer?WT.mc_id=DP-MVP-5003712" target=_blank rel="noopener noreferrer">Performance Analyzer</a>):</p>
<div class="language-dax codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-dax codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// DAX Query</span><br></span><span class=token-line style=color:#393A34><span class="token plain">DEFINE</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    VAR __DS0Core =</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        SUMMARIZECOLUMNS (</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            'financials'[Country],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            "Sumv_Sales", CALCULATE ( SUM ( 'financials'[ Sales] ) )</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        )</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    VAR __DS0PrimaryWindowed =</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        TOPN ( 10001, __DS0Core, 'financials'[Country], 1 )</span><br></span><span class=token-line style=color:#393A34><span class="token plain">EVALUATE</span><br></span><span class=token-line style=color:#393A34><span class="token plain">__DS0PrimaryWindowed</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ORDER BY 'financials'[Country]</span><br></span></code></pre></div></div>
<p>This would produce the following dataset (visualized using a table):</p>
<p><img decoding=async loading=lazy alt=simple-column-and-measure-result.png src=data:image/png;base64,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 title="Results of a simple DAX query (using a table visual)." width=283 height=150 class=img_ev3q></p>
<p>...and this dataset is supplied by Power BI into the visual. At this point, Deneb's logic will process the dataset and things continue as normal.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_BuS1><p>Refer to the <a href=/docs/dataset#grain--row-context>Dataset</a> page if you want to see how this data would get represented internally.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=signaling-back-to-power-bi>Signaling Back to Power BI<a href=#signaling-back-to-power-bi class=hash-link aria-label="Direct link to Signaling Back to Power BI" title="Direct link to Signaling Back to Power BI">â€‹</a></h3>
<p>Now using the above as an example, we can talk about the following interactivity scenarios:</p>
<ul>
<li>Cross-filtering other visuals</li>
<li>Drilling-through from the context menu</li>
<li>Displaying a report page tooltip or leveraging modern tooltip features</li>
</ul>
<p>All of these situations require the visual to tell Power BI what data it needs to work with... but here's the thing: just like how visuals can't just read whatever they like from the data model, they <em>definitely</em> can't send anything back.</p>
<p>For these situations, Power BI provides APIs for a visual to request that Power BI try to do these things on its behalf. For Power BI to fulfil this, it needs to know which row(s) from the orginal dataset it has to resolve.</p>
<ul>
<li>
<p>If you have just taken the dataset as-is and created a mark using Vega or Vega-Lite, then a mark's datum still has the correct row context and identifying information that Power BI needs.</p>
</li>
<li>
<p>However, if you apply an operation in your specification that mutates the data from its original dataset - for example a transform (<a href=https://vega.github.io/vega/docs/transforms/ target=_blank rel="noopener noreferrer">Vega</a> | <a href=https://vega.github.io/vega-lite/docs/transform.html target=_blank rel="noopener noreferrer">Vega-Lite</a>) - then we lose the ability to leverage this functionality in the resulting outputs.</p>
</li>
</ul>
<p>Any functionality we can deliver needs to bear these constraints in mind.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=additional-datum-fields>Additional Datum Fields<a href=#additional-datum-fields class=hash-link aria-label="Direct link to Additional Datum Fields" title="Direct link to Additional Datum Fields">â€‹</a></h4>
<p>Provided that there are no such mutations, a Vega or Vega-Lite datum will contain the following additional fields for reconcilitation purposes:</p>
<ul>
<li>
<p><code>__identity__</code> - this is the raw identity and true row context.</p>
<ul>
<li>For those familiar with Power BI visuals development, it is a <a href=https://docs.microsoft.com/en-us/power-bi/developer/visuals/selection-api target=_blank rel="noopener noreferrer"><code>SelectionId</code></a>, which can be passed to Power BI's Selection Manager for <a href=#signaling-back-to-power-bi>delegation</a>.</li>
<li>This is a complex JavaScript object and therefore not something we can use in Vega directly. Complex objects are not comparable in the same way, say, text values are, so this should not be used for anything in your spec.</li>
</ul>
</li>
<li>
<p><code>__key__</code> - this is a representation of the <code>__identity__</code> object that can be used inside a spec, as it has been suitably processed.</p>
</li>
<li>
<p><code>identityIndex</code> - this is the (zero-based) index of the visual dataset's corresponding entry.</p>
</li>
<li>
<p><code>__selected__</code> - whether this particular row context is selected for <a href=/docs/1.0/interactivity-selection>cross-filtering</a>.</p>
</li>
</ul>
<p>These may become visible to you when <a href=/docs/1.0/interactivity-tooltips#debugging-with-tooltips>inspecting a datum using tooltips</a> or similar, but they aren't currently supported for use outside of anything Deneb does for you.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=what-about>What About..?<a href=#what-about class=hash-link aria-label="Direct link to What About..?" title="Direct link to What About..?">â€‹</a></h3>
<p>There's a couple of interactivity scenarios we've missed out from above:</p>
<ul>
<li>Default tooltips are different to report page or modern tooltips.<!-- -->
<ul>
<li>In these cases Deneb can pass a list of values to display and ask Power BI to display them inside a standard tooltip.</li>
<li>This is also the fall-back behavior if the row context cannot be resolved by Power BI, or a suitable tooltip page cannot be found.</li>
<li>Tooltip functionality within Deneb is covered in much more detail on the <a href=/docs/1.0/interactivity-tooltips>Tooltips</a> page.</li>
</ul>
</li>
<li>Slicer filtering works differently to cross-filtering, but as Deneb is not a slicer, we're skipping that one.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=visual-effects-and-behavior>Visual Effects and Behavior<a href=#visual-effects-and-behavior class=hash-link aria-label="Direct link to Visual Effects and Behavior" title="Direct link to Visual Effects and Behavior">â€‹</a></h2>
<p>Whilst this section is not as large as the above one, it is still very important to consider.</p>
<p>In defining a specification, you have control over how Vega or Vega-Lite renders the output for interaction events. You may choose to employ dimming or opacity-based effects for non-selected marks, or you may choose to alter their color, or try something completely unique and original. You can read more about how to start working with these approaches on the <a href=/docs/1.0/interactivity-selection>Cross-Filtering</a> page.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/deneb-viz/deneb-viz.github.io/edit/source/versioned_docs/version-1.0/interactivity/index.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/1.0/performance><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Performance Considerations</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/1.0/interactivity-tooltips><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Tooltips</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#how-deneb-can-be-different-from-r--python-options class="table-of-contents__link toc-highlight">How Deneb Can Be Different from R & Python Options</a><li><a href=#managing-your-expectations class="table-of-contents__link toc-highlight">Managing your Expectations</a><li><a href=#reconciliation-of-data-andor-row-context class="table-of-contents__link toc-highlight">Reconciliation of Data and/or Row Context</a><ul><li><a href=#getting-data-from-the-model class="table-of-contents__link toc-highlight">Getting Data from the Model</a><li><a href=#signaling-back-to-power-bi class="table-of-contents__link toc-highlight">Signaling Back to Power BI</a><li><a href=#what-about class="table-of-contents__link toc-highlight">What About..?</a></ul><li><a href=#visual-effects-and-behavior class="table-of-contents__link toc-highlight">Visual Effects and Behavior</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Documentation</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/docs>Docs</a><li class=footer__item><a href=https://vega.github.io/vega/docs/ target=_blank rel="noopener noreferrer" class=footer__link-item>Vega Documentation<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://vega.github.io/vega-lite/docs/ target=_blank rel="noopener noreferrer" class=footer__link-item>Vega-Lite Documentation<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/community/resources>Resources and Examples</a><li class=footer__item><a class=footer__link-item href=/support>Support</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/privacy-policy>Privacy Policy</a><li class=footer__item><a class=footer__link-item href=/blog>Blog</a><li class=footer__item><a href=https://github.com/sponsors/deneb-viz target=_blank rel="noopener noreferrer" class=footer__link-item>Sponsor<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/deneb-viz/deneb target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Deneb is released under the MIT License.</div></div></div></footer></div>